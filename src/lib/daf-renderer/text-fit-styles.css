/* Ensure text fits properly within containers */

/* Base text settings for proper line wrapping */
.dafRoot .text {
  /* Ensure text wraps at word boundaries */
  word-wrap: break-word;
  overflow-wrap: break-word;
  
  /* Prevent text from expanding beyond container */
  max-width: 100%;
  overflow: hidden;
  
  /* Better text justification for Hebrew */
  text-align: justify;
  text-align-last: justify;
  text-justify: inter-word;
}

/* Commentary-specific settings */
.inner .text,
.outer .text {
  /* Tighter letter spacing for narrow columns */
  letter-spacing: -0.02em;
  
  /* Allow hyphenation for better fit */
  hyphens: auto;
  -webkit-hyphens: auto;
  -moz-hyphens: auto;
  
  /* Slightly reduce line height if needed */
  line-height: 0.95em;
}

/* Ensure first 4 lines (start) fit properly */
.inner .text > span:nth-child(-n+4),
.outer .text > span:nth-child(-n+4) {
  /* Slightly smaller font for start lines */
  font-size: 0.9em;
  
  /* Ensure no overflow */
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Main text settings */
.main .text {
  /* More relaxed spacing for main text */
  letter-spacing: normal;
  line-height: 1.1em;
}

/* Prevent specific problematic wrapping */
.text span {
  /* Keep short phrases together */
  white-space: nowrap;
}

/* Break long words if necessary */
.text span.long-word {
  white-space: normal;
  word-break: break-all;
}

/* Debug styles to visualize overflow */
.debug-overflow .text {
  outline: 1px dashed red;
}

.debug-overflow .text:has(> *:nth-child(5)) {
  /* Highlight if more than 4 lines in start section */
  background-color: rgba(255, 0, 0, 0.1);
}